(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r,c,i,a,o,s,l=n(0),u=n(39),d=n.n(u),b=n(8),h=n(29),j=n(5),O=n(6),p=n(32),f=n(75),v="@media (max-width: 991px)",m=n(22),g=n(1),x=p.a.div(r||(r=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),k=p.a.input({borderRadius:"3px",border:"1px solid #f1f1f4",background:"#f1f2f7",padding:"8px 12px"}),y=p.a.button(a||(a=Object(j.a)(["\n  padding: 10px 15px;\n  border: 0;\n  line-height: 1;\n  border-radius: 3px;\n  ","\n"])),(function(e){switch(e.variant){case"primary":return Object(O.a)(c||(c=Object(j.a)(["\n        background: #3f51b5;\n        color: white;\n      "])));case"secondary":return Object(O.a)(i||(i=Object(j.a)(["\n        background: #f1f2f7;\n        color: #434449;\n      "])))}})),w=p.a.button({borderRadius:"30px",padding:"0",width:"40px",height:"40px",lineHeight:"1",display:"flex",alignItems:"center",justifyContent:"center",background:"white",color:"#434449",border:"1px solid #f1f1f4",cursor:"pointer"}),C=Object(p.a)(f.a)(Object(h.a)({maxWidth:"450px",borderRadius:"3px",paddingBottom:"3.5em",boxShadow:"0 10px 30px -5px rgba(0, 0, 0, 0.2)",margin:"20vh auto"},v,{width:"100%",margin:"10vh auto"})),L=Object(O.b)(o||(o=Object(j.a)(["\n  0% {\n    transform: rotate(0deg)\n  }\n  100% {\n    transform: rotate(360deg)\n  }\n"]))),I=Object(p.a)(m.f)(s||(s=Object(j.a)(["\n  animation: "," 1s linear infinite;\n"])),L);function S(){return Object(g.a)("div",{css:{fontSize:"4em",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(g.a)(I,{})})}var E=p.a.ul({listStyle:"none",padding:"0",display:"grid",gridTemplateRows:"repeat(auto-fill, minmax(100px, 1fr))",gridGap:"1em"}),F=n(21),D=n.n(F),T=n(36),R="__auth_provider_token__";function B(){return window.localStorage.getItem(R)}function z(e){return window.localStorage.setItem(R,e.token),e}function A(e){return H("logout",{token:e}).then((function(e){console.log(e)})).catch((function(e){Promise.reject(e)})).finally((function(){window.localStorage.removeItem(R),window.location.href="/"}))}var M="https://cyh-bookshelf.herokuapp.com";function H(e,t){return _.apply(this,arguments)}function _(){return(_=Object(T.a)(D.a.mark((function e(t,n){var r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}},e.abrupt("return",window.fetch("".concat(M,"/").concat(t),r).then(function(){var e=Object(T.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=2;break}return e.abrupt("return",Promise.reject(t.statusText));case 2:return e.next=4,t.json();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=n(28);var N={status:"idle",data:null,error:null};function Q(e){var t=l.useRef(Object(b.a)(Object(b.a)({},N),e)),n=l.useReducer((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),t.current),r=Object(P.a)(n,2),c=r[0],i=c.data,a=c.error,o=c.status,s=function(e){var t=l.useRef(!1);return l.useLayoutEffect((function(){return t.current=!0,function(){return t.current=!1}}),[]),l.useCallback((function(){return t.current?e.apply(void 0,arguments):void 0}),[e])}(r[1]),u=l.useCallback((function(e){return s({data:e,status:"resolved"})}),[s]),d=l.useCallback((function(e){return s({error:e,status:"rejected"})}),[s]),h=l.useCallback((function(){return s(t.current)}),[s]),j=l.useCallback((function(e){if(!e||!e.then)throw new Error("The argument passed to useAsync().run must be a promise. Maybe a function that's passed isn't returning anything?");return s({status:"pending"}),e.then((function(e){return u(e),e}),(function(e){return d(e),Promise.reject(e)}))}),[s,u,d]);return{isIdle:"idle"===o,isLoading:"pending"===o,isError:"rejected"===o,isSuccess:"resolved"===o,error:a,status:o,data:i,setData:u,setError:d,run:j,reset:h}}var G="#434449",V="#f1f1f4",W="#3f51b5",U="#ef5350",J=n(4),q=l.createContext();function K(){return(K=Object(T.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,B();case 3:if(!(n=e.sent)){e.next=14;break}return e.prev=5,e.next=8,H("me",{token:n});case 8:t=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),A();case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function X(e){var t=Q(),n=t.data,r=t.error,c=t.isLoading,i=t.isIdle,a=t.isError,o=t.isSuccess,s=t.run,u=t.setData;l.useEffect((function(){s(function(){return K.apply(this,arguments)}())}),[s]);var d=l.useCallback((function(e){return(t=e,H("login",{username:t.username,password:t.password}).then(z)).then((function(e){return u(e)}));var t}),[u]),h=l.useCallback((function(e){return(t=e,H("register",{username:t.username,password:t.password}).then(z)).then((function(e){return u(e)}));var t}),[u]),j=l.useCallback((function(e){A(e).then((function(){u(null)}))}),[u]),O=l.useMemo((function(){return{user:n,login:d,logout:j,register:h}}),[d,j,h,n]);return c||i?Object(J.jsx)(S,{}):a?Object(J.jsxs)("div",{css:{color:U,height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(J.jsx)("p",{children:"Uh oh... There's a problem. Try refreshing the app."}),Object(J.jsx)("pre",{children:r})]}):o?Object(J.jsx)(q.Provider,Object(b.a)({value:O},e)):void 0}function Y(){return l.useContext(q)}q.displayName="AuthContext";var Z=n(14),$=n(26),ee=n(15),te="https://cyh-bookshelf.herokuapp.com/api";function ne(){var e=Y().user,t=null===e||void 0===e?void 0:e.token;return l.useCallback((function(e,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,r=t.token,c=t.headers,i=Object($.a)(t,["data","token","headers"]),a=Object(b.a)({method:n?"POST":"GET",body:n?JSON.stringify(n):void 0,headers:Object(b.a)({Authorization:r?"Bearer ".concat(r):void 0,"Content-Type":n?"application/json":void 0},c)},i);return window.fetch("".concat(te,"/").concat(e),a).then(function(){var e=Object(T.a)(D.a.mark((function e(t){var n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==t.status){e.next=3;break}return A(),e.abrupt("return",Promise.reject({message:"Please re-authenticate."}));case 3:if(t.ok){e.next=5;break}return e.abrupt("return",Promise.reject(t.statusText));case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}(e,Object(b.a)(Object(b.a)({},n),{},{token:t}))}),[t])}function re(){var e=ne();return Object(ee.useQuery)("list",(function(){return e("list").then((function(e){return e.books}))}))}function ce(e){var t,n=re().data;return null!==(t=null===n||void 0===n?void 0:n.find((function(t){return t.book._id===e})))&&void 0!==t?t:null}function ie(){var e=Object(ee.useQueryClient)(),t=ne();return Object(ee.useMutation)((function(e){var n=e.id,r=Object($.a)(e,["id"]);return t("list",{data:Object(b.a)({bookId:n},r),method:"PATCH"})}),{onSuccess:function(){return e.invalidateQueries("list")}})}var ae,oe,se,le=n(57);function ue(e){var t=e.label,n=e.highlight,r=e.icon,c=e.isLoading,i=e.isError,a=e.error,o=Object($.a)(e,["label","highlight","icon","isLoading","isError","error"]);return Object(g.a)(le.a,{label:i?a.message:t,children:Object(g.a)(w,Object(b.a)(Object(b.a)({css:{backgroundColor:"white",":hover,:focus":{color:c?"#6f7077":i?U:n}}},o),{},{children:c?Object(g.a)(I,{}):i?Object(g.a)(m.h,{}):r}))})}function de(e){var t=e.book._id,n=ce(t),r=function(){var e=Object(ee.useQueryClient)(),t=ne();return Object(ee.useMutation)((function(e){return t("list",{data:{bookId:e}})}),{onSuccess:function(){return e.invalidateQueries("list")}})}(),c=r.mutate,i=r.isLoading,a=function(){var e=Object(ee.useQueryClient)(),t=ne();return Object(ee.useMutation)((function(e){return t("list",{data:{bookId:e},method:"DELETE"})}),{onSuccess:function(){return e.invalidateQueries("list")}})}(),o=a.mutate,s=a.isLoading,l=ie(),u=l.mutate,d=l.isLoading;return Object(g.b)("div",{css:Object(O.a)(ae||(ae=Object(j.a)(["\n        display: flex;\n        flex-direction: column;\n        justify-content: space-around;\n        height: 100%;\n      "]))),children:[n?"READING"===n.status?Object(g.a)(ue,{label:"mark as finished",onClick:function(){return u({id:t,status:"FINISHED"})},highlight:"#ffc107",icon:d?Object(g.a)(I,{}):Object(g.a)(m.a,{})}):Object(g.a)(ue,{label:"mark as reading",onClick:function(){return u({id:t,status:"READING"})},icon:d?Object(g.a)(I,{}):Object(g.a)(m.b,{}),highlight:"#4caf50"}):null,n?Object(g.a)(ue,{label:"remove from list",highlight:U,onClick:function(){return o(t)},icon:s?Object(g.a)(I,{}):Object(g.a)(m.c,{})}):Object(g.a)(ue,{label:"Add to list",highlight:W,onClick:function(){return c(t)},icon:i?Object(g.a)(I,{}):Object(g.a)(m.d,{})})]})}function be(e){var t=e.book,n=e.isLoading,r=t.title,c=t.author,i=t.coverImageUrl,a=t._id;return Object(g.b)("div",{css:Object(O.a)(oe||(oe=Object(j.a)(["\n        position: relative;\n      "]))),children:[n?null:Object(g.a)("div",{css:Object(O.a)(se||(se=Object(j.a)(["\n            position: absolute;\n            right: -20px;\n            height: 100%;\n          "]))),children:Object(g.a)(de,{book:t})}),Object(g.b)(Z.b,{to:"book/".concat(a),css:{minHeight:270,display:"flex",gap:"20px",border:"1px solid ".concat("#e4e5e9"),color:G,padding:"1.25em",borderRadius:"3px",textDecoration:"none",":hover,:focus":{textDecoration:"none",boxShadow:"0 5px 15px -5px rgba(0,0,0,.08)",color:"inherit"}},children:[Object(g.a)("div",{css:Object(h.a)({width:140},v,{width:100}),children:Object(g.a)("img",{src:i,alt:"".concat(r," book cover"),css:{maxHeight:"100%",width:"100%"}})}),Object(g.b)("div",{css:{flex:1},children:[Object(g.b)("div",{css:{display:"flex",justifyContent:"space-between",marginBottom:"15px"},children:[Object(g.a)("div",{css:{flex:1},children:Object(g.a)("h2",{id:a,css:{fontSize:"1.25em",margin:"0",color:W},children:r})}),Object(g.b)("div",{css:{marginLeft:10},children:[Object(g.a)("div",{css:{marginTop:"0.4em",fontStyle:"italic",fontSize:"0.85em"},children:c}),Object(g.a)("small",{children:t.publisher})]})]}),Object(g.b)("small",{css:{whiteSpace:"break-spaces",display:"block"},children:[t.synopsis.substring(0,500),"..."]})]})]})]})}var he,je,Oe,pe,fe={title:"Loading...",author:"loading...",coverImageUrl:n.p+"static/media/book-placeholder.0a37bda0.svg",publisher:"Loading Publishing",synopsis:"Loading...",loadingBook:!0},ve=Array.from({length:10},(function(e,t){return Object(b.a)({_id:"loading-book-".concat(t)},fe)}));function me(){var e=Y().user,t=Object(l.useState)(""),n=Object(P.a)(t,2),r=n[0],c=n[1],i=function(e){var t,n=ne(),r=Object(ee.useQuery)(["books",e],(function(){return n("book?query=".concat(encodeURIComponent(e)))}));return Object(b.a)(Object(b.a)({},r),{},{data:null!==(t=r.data)&&void 0!==t?t:ve})}(r,e.token),a=i.data,o=i.error,s=i.isLoading,u=i.isError;return Object(g.b)("div",{css:Object(O.a)(he||(he=Object(j.a)(["\n        /* max-width: 800px; */\n        margin: auto;\n      "]))),children:[Object(g.b)("form",{onSubmit:function(e){var t,n;e.preventDefault();var r=null===(t=e.target.elements)||void 0===t||null===(n=t.search)||void 0===n?void 0:n.value;c(r)},css:Object(O.a)(je||(je=Object(j.a)(["\n          margin-bottom: 30px;\n        "]))),children:[Object(g.a)(k,{placeholder:"search books...",id:"search",css:Object(O.a)(Oe||(Oe=Object(j.a)(["\n            width: 100%;\n          "])))}),Object(g.a)(le.a,{label:"Search Books",children:Object(g.a)("label",{htmlFor:"search",children:Object(g.a)("button",{type:"submit",css:Object(O.a)(pe||(pe=Object(j.a)(["\n                border: 0;\n                position: relative;\n                margin-left: -35px;\n                background: transparent;\n              "]))),children:s?Object(g.a)(I,{}):u?Object(g.a)(m.g,{css:{color:U}}):Object(g.a)(m.e,{})})})})]}),u?Object(g.b)("div",{css:{color:U},children:[Object(g.a)("p",{children:"There was an error:"}),Object(g.a)("pre",{children:o.message})]}):null,a.length?Object(g.a)(E,{css:{marginTop:20},children:a.map((function(e){return Object(g.a)("li",{children:Object(g.a)(be,{book:e,isLoading:s},e._id)},e._id)}))}):Object(g.a)("p",{children:"No books found. Try another search."})]})}var ge,xe,ke,ye,we,Ce,Le=n(10);function Ie(){var e=Object(Le.g)().bookId,t=function(e){var t,n=ne(),r=Object(ee.useQuery)(["book",e],(function(){return n("book/".concat(e))}));return Object(b.a)(Object(b.a)({},r),{},{data:null!==(t=r.data)&&void 0!==t?t:fe})}(e).data,n=ce(e),r=t.title,c=t.author,i=t.coverImageUrl,a=t.publisher,o=t.synopsis;return Object(g.a)("div",{children:Object(g.b)("div",{css:Object(O.a)(ge||(ge=Object(j.a)(["\n          display: flex;\n          flex-direction: column;\n        "]))),children:[Object(g.b)("div",{css:Object(O.a)(xe||(xe=Object(j.a)(["\n            display: flex;\n            gap: 20px;\n            "," {\n              flex-direction: column;\n              align-items: center;\n            }\n          "])),v),children:[Object(g.a)("img",{src:i,alt:"".concat(r," book cover"),css:{width:"100%",maxWidth:"14rem"}}),Object(g.b)("div",{css:Object(O.a)(ke||(ke=Object(j.a)(["\n              display: flex;\n              gap: 20px;\n            "]))),children:[Object(g.b)("div",{children:[Object(g.a)("h1",{children:r}),Object(g.b)("div",{children:[Object(g.a)("i",{children:c}),Object(g.a)("span",{css:{marginRight:6,marginLeft:6},children:"|"}),Object(g.a)("i",{children:a})]})]}),Object(g.a)("div",{css:Object(O.a)(ye||(ye=Object(j.a)(["\n                height: 120px;\n              "]))),children:t.loadingBook?null:Object(g.a)(de,{book:t})})]})]}),Object(g.a)("div",{css:Object(O.a)(we||(we=Object(j.a)(["\n            margin-top: 30px;\n          "]))),children:Object(g.a)("p",{css:{whiteSpace:"break-spaces",display:"block"},children:o})}),n&&"FINISHED"===n.status?Object(g.a)(Se,{listItem:n}):null]})})}function Se(e){var t=e.listItem,n=ie(),r=n.mutate,c=n.isLoading,i=function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(n,i)}),r)}}((function(e,t){return r({id:e,notes:t})}));return Object(g.b)("div",{children:[Object(g.a)("label",{htmlFor:"notes",css:{display:"inline-block",marginRight:10,marginTop:"0",marginBottom:"0.5rem",fontWeight:"bold"},children:"Notes"}),c?Object(g.a)(I,{}):null,Object(g.a)("textarea",{id:"notes",name:"notes",onChange:function(e){i(t.book._id,e.target.value)},defaultValue:t.notes,css:Object(O.a)(Ce||(Ce=Object(j.a)(["\n          width: 100%;\n          min-height: 120px;\n          display: block;\n          padding: 8px;\n        "])))})]})}function Ee(){return Object(J.jsx)("div",{children:"404"})}var Fe,De;function Te(e){var t=e.filterListItems,n=e.noListItems,r=e.noFilteredListItems,c=re(),i=c.data,a=c.isLoading,o=null!==i&&void 0!==i?i:[],s=t(o);return a?Object(g.a)("div",{css:Object(O.a)(Fe||(Fe=Object(j.a)(["\n          display: flex;\n          justify-content: center;\n          margin-top: 30px;\n        "]))),children:Object(g.a)(I,{})}):o.length?s.length?Object(g.a)(E,{children:s.length&&s.map((function(e){return Object(g.a)("li",{children:Object(g.a)(be,{book:e.book})},e.book._id)}))}):Object(g.a)("div",{css:{marginTop:"1em",fontSize:"1.2em"},children:r}):Object(g.a)("div",{css:{marginTop:"1em",fontSize:"1.2em"},children:n})}function Re(){return Object(J.jsx)(Te,{filterListItems:function(e){return e.filter((function(e){return"FINISHED"===e.status}))},noListItems:Object(J.jsxs)("p",{children:["Hey there! This is where books will go when you've finished reading them. Get started by heading over to"," ",Object(J.jsx)(Z.b,{to:"/discover",children:"the Discover page"})," to add books to your list."]}),noFilteredListItems:Object(J.jsxs)("p",{children:["Looks like you've got some reading to do! Check them out in your"," ",Object(J.jsx)(Z.b,{to:"/reading",children:"reading list"})," or"," ",Object(J.jsx)(Z.b,{to:"/discover",children:"discover more"}),"."]})})}function Be(){return Object(J.jsx)(Te,{filterListItems:function(e){return e.filter((function(e){return"READING"===e.status}))},noListItems:Object(J.jsxs)("p",{children:["Hey there! Welcome to your bookshelf reading list. Get started by heading over to ",Object(J.jsx)(Z.b,{to:"/discover",children:"the Discover page"})," to add books to your list."]}),noFilteredListItems:Object(J.jsxs)("p",{children:["Looks like you've finished all your books! Check them out in your"," ",Object(J.jsx)(Z.b,{to:"/finished",children:"finished books"})," or"," ",Object(J.jsx)(Z.b,{to:"/discover",children:"discover more"}),"."]})})}function ze(){var e=Y(),t=e.user,n=e.logout;return Object(g.b)("div",{children:[Object(g.b)("div",{css:Object(O.a)(De||(De=Object(j.a)(["\n          display: flex;\n          justify-content: flex-end;\n          align-items: center;\n          margin-top: 20px;\n          margin-right: 20px;\n        "]))),children:[t.username,Object(g.a)(y,{variant:"secondary",css:{marginLeft:"10px"},onClick:function(){return n(t.token)},children:"Logout"})]}),Object(g.b)("div",{css:Object(h.a)({margin:"0 auto",padding:"4em 2em",maxWidth:"1200px",width:"100%",display:"flex",gap:"30px"},"@media (max-width: 991px)",{flexDirection:"column"}),children:[Object(g.a)("div",{css:{minWidth:"200px"},children:Object(g.a)(He,{})}),Object(g.a)("main",{css:{flexGrow:1},children:Object(g.a)(Ae,{})})]})]})}function Ae(){return Object(g.b)(Le.d,{children:[Object(g.a)(Le.b,{path:"/",exact:!0,render:function(){return Object(g.a)(Le.a,{to:"/discover"})}}),Object(g.a)(Le.b,{path:"/discover",component:me}),Object(g.a)(Le.b,{path:"/finished",component:Re}),Object(g.a)(Le.b,{path:"/reading",component:Be}),Object(g.a)(Le.b,{path:"/book/:bookId",component:Ie}),Object(g.a)(Le.b,{path:"*",component:Ee})]})}function Me(e){var t=Object(Le.h)(e.to);return Object(g.a)(Z.b,Object(b.a)({css:[{display:"block",padding:"8px 15px 8px 10px",margin:"5px 0",width:"100%",height:"100%",color:G,borderRadius:"2px",borderLeft:"5px solid transparent",textDecoration:"none",":hover":{color:W,textDecoration:"none",background:V}},t?{borderLeft:"5px solid ".concat(W),background:V,":hover":{background:V}}:null]},e))}function He(){return Object(g.a)("nav",{css:{padding:"1em 1.5em",border:"1px solid ".concat(V),borderRadius:"3px"},children:Object(g.a)("ul",{css:{listStyle:"none",padding:"0"},children:Object(g.b)("li",{children:[Object(g.a)(Me,{to:"/discover",children:"Discover"}),Object(g.a)(Me,{to:"/reading",children:"Reading List"}),Object(g.a)(Me,{to:"/finished",children:"Finished Books"})]})})})}var _e,Pe,Ne,Qe,Ge,Ve=n(76),We=function(e){var t=e.width,n=void 0===t?"48":t,r=e.height,c=void 0===r?"48":r;return Object(J.jsxs)("svg",{width:"".concat(n,"px"),height:"".concat(c,"px"),viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[Object(J.jsx)("title",{children:"Bookshelf"}),Object(J.jsxs)("g",{children:[Object(J.jsx)("path",{d:"M12,5H2C1.44772,5,1,5.44772,1,6v27h12V6C13,5.44772,12.55229,5,12,5z",fill:"#E86C60"}),Object(J.jsx)("path",{d:"M12,43H2c-0.55228,0-1-0.44772-1-1V32h12v10C13,42.55228,12.55229,43,12,43z",fill:"#444444"}),Object(J.jsx)("path",{d:"M8,23H6c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55229,0,1,0.44771,1,1v11 C9,22.55228,8.55229,23,8,23z",fill:"#FFFFFF"}),Object(J.jsx)("path",{d:"M35.44301,3.67613l-9.68988,2.47109c-0.53516,0.13647-0.85835,0.68094-0.72188,1.2161l6.67194,26.16267 l11.62785-2.96531L36.6591,4.398C36.52263,3.86285,35.97816,3.53965,35.44301,3.67613z",fill:"#43A6DD"}),Object(J.jsx)("path",{d:"M44.83315,40.49766l-9.68988,2.47109c-0.53516,0.13647-1.07962-0.18672-1.21609-0.72188l-2.47109-9.68988 l11.62785-2.96531l2.47109,9.68987C45.69151,39.81672,45.36831,40.36118,44.83315,40.49766z",fill:"#444444"}),Object(J.jsx)("path",{d:"M36.01502,22.10634l-1.93797,0.49422c-0.53516,0.13647-1.07962-0.18672-1.2161-0.72188l-2.7182-10.65886 c-0.13647-0.53516,0.18672-1.07962,0.72188-1.2161L32.8026,9.5095c0.53516-0.13647,1.07962,0.18672,1.2161,0.72188l2.7182,10.65886 C36.87337,21.4254,36.55017,21.96987,36.01502,22.10634z",fill:"#FFFFFF"}),Object(J.jsx)("path",{d:"M24,5H14c-0.55229,0-1,0.44772-1,1v27h12V6C25,5.44772,24.55228,5,24,5z",fill:"#E6E6E6"}),Object(J.jsx)("path",{d:"M24,43H14c-0.55229,0-1-0.44772-1-1V32h12v10C25,42.55228,24.55228,43,24,43z",fill:"#B3B3B3"}),Object(J.jsx)("path",{d:"M20,23h-2c-0.55228,0-1-0.44772-1-1V11c0-0.55229,0.44772-1,1-1h2c0.55228,0,1,0.44771,1,1v11 C21,22.55228,20.55228,23,20,23z",fill:"#FFFFFF"})]})]})},Ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e&&e.apply(void 0,n)}))}},Je=Object(l.createContext)();function qe(e){var t=e.children,n=Object($.a)(e,["children"]),r=Object(l.useState)(!1),c=Object(P.a)(r,2),i=c[0],a=c[1];return Object(g.a)(Je.Provider,Object(b.a)(Object(b.a)({value:[i,a]},n),{},{children:t}))}function Ke(e){var t=e.children,n=Object(l.useContext)(Je),r=Object(P.a)(n,2)[1];return Object(l.cloneElement)(t,{onClick:Ue((function(){return r(!1)}),t.props.onClick)})}function Xe(e){var t=e.children,n=Object(l.useContext)(Je),r=Object(P.a)(n,2)[1];return Object(l.cloneElement)(t,{onClick:Ue((function(){return r(!0)}),t.props.onClick)})}function Ye(e){var t=Object(l.useContext)(Je),n=Object(P.a)(t,2),r=n[0],c=n[1];return Object(g.a)(C,Object(b.a)({isOpen:r,onDismiss:function(){return c(!1)}},e))}function Ze(e){var t=e.title,n=e.children,r=Object($.a)(e,["title","children"]);return Object(g.b)(Ye,Object(b.a)(Object(b.a)({},r),{},{children:[Object(g.a)("div",{css:Object(O.a)(_e||(_e=Object(j.a)(["\n          display: flex;\n          justify-content: flex-end;\n        "]))),children:Object(g.a)(Ke,{children:Object(g.a)(w,{children:"x"})})}),Object(g.a)("h3",{css:Object(O.a)(Pe||(Pe=Object(j.a)(["\n          text-align: center;\n          font-size: 2em;\n        "]))),children:t}),n]}))}function $e(e){var t=e.onSubmit,n=e.submitButton,r=Q(),c=r.isLoading,i=r.isError,a=r.error,o=r.run,s=function(e){var n,r,c,i;e.preventDefault();var a=null===(n=e.target.elements)||void 0===n||null===(r=n.username)||void 0===r?void 0:r.value,s=null===(c=e.target.elements)||void 0===c||null===(i=c.password)||void 0===i?void 0:i.value;o(t({username:a,password:s}))};return Object(g.b)("form",{onSubmit:function(e){return s(e)},css:Object(O.a)(Ne||(Ne=Object(j.a)(["\n        display: flex;\n        flex-direction: column;\n        align-items: stretch;\n        > div {\n          margin: 10px auto;\n          width: 100%;\n          max-width: 300px;\n        }\n      "]))),children:[Object(g.b)(x,{children:[Object(g.a)("label",{htmlFor:"username",children:"username"}),Object(g.a)(k,{type:"text",id:"username"})]}),Object(g.b)(x,{children:[Object(g.a)("label",{htmlFor:"password",children:"password"}),Object(g.a)(k,{type:"password",id:"password"})]}),Object(g.a)("div",{children:l.cloneElement.apply(void 0,[n,{type:"primary"}].concat(Object(Ve.a)(Array.isArray(n.props.children)?n.props.children:[n.props.children]),[c?Object(g.a)(I,{css:{marginLeft:5}}):null]))}),i?Object(g.a)("div",{css:{color:U},children:a}):null]})}function et(){var e=Y(),t=e.login,n=e.register;return Object(g.b)("div",{css:Object(O.a)(Qe||(Qe=Object(j.a)(["\n        height: 100vh;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        gap: 10px 0;\n      "]))),children:[Object(g.a)(We,{width:"80",height:"80"}),Object(g.a)("h1",{children:"Bookshelf"}),Object(g.b)("div",{css:Object(O.a)(Ge||(Ge=Object(j.a)(["\n          & > button {\n            margin: 0 6px;\n          }\n        "]))),children:[Object(g.b)(qe,{children:[Object(g.a)(Xe,{children:Object(g.a)(y,{variant:"primary",children:"Login"})}),Object(g.a)(Ze,{title:"Login","aria-label":"login",children:Object(g.a)($e,{onSubmit:t,submitButton:Object(g.a)(y,{variant:"primary",children:"login"})})})]}),Object(g.b)(qe,{children:[Object(g.a)(Xe,{children:Object(g.a)(y,{variant:"secondary",children:"Register"})}),Object(g.a)(Ze,{title:"Register","aria-label":"register",children:Object(g.a)($e,{submitButton:Object(g.a)(y,{variant:"secondary",children:"register"}),onSubmit:n})})]})]})]})}function tt(){return Y().user?Object(J.jsx)(ze,{}):Object(J.jsx)(et,{})}Je.displayName="ModalContext";var nt=new ee.QueryClient({defaultOptions:{queries:{staleTime:6e4,cacheTime:6e4}}});function rt(e){var t=e.children;return Object(J.jsx)(ee.QueryClientProvider,{client:nt,children:Object(J.jsx)(Z.a,{children:Object(J.jsx)(X,{children:t})})})}var ct=n(74),it=(n(100),n(101),n(102),n(103),document.getElementById("root"));d.a.render(Object(J.jsxs)(rt,{children:[Object(J.jsx)(tt,{}),Object(J.jsx)(ct.ReactQueryDevtools,{})]}),it)}},[[104,1,2]]]);
//# sourceMappingURL=main.eb4958f5.chunk.js.map